
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Security Â· macOS Setup Guide</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="../Apps/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
    
        <nav role="navigation">
        


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../SystemPreferences/">
            
                <a href="../SystemPreferences/">
            
                    
                    System Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Xcode/">
            
                <a href="../Xcode/">
            
                    
                    Xcode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Homebrew/">
            
                <a href="../Homebrew/">
            
                    
                    Homebrew
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Homebrew/Usage.html">
            
                <a href="../Homebrew/Usage.html">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Homebrew/Cask.html">
            
                <a href="../Homebrew/Cask.html">
            
                    
                    Cask
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Terminal/">
            
                <a href="../Terminal/">
            
                    
                    Terminal
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Terminal/zsh.html">
            
                <a href="../Terminal/zsh.html">
            
                    
                    Zsh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Terminal/tree.html">
            
                <a href="../Terminal/tree.html">
            
                    
                    tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Terminal/fzf.html">
            
                <a href="../Terminal/fzf.html">
            
                    
                    fzf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Terminal/ack.html">
            
                <a href="../Terminal/ack.html">
            
                    
                    ack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../Git/">
            
                <a href="../Git/">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Git/gitignore.html">
            
                <a href="../Git/gitignore.html">
            
                    
                    Git Ignore
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../BashCompletion/">
            
                <a href="../BashCompletion/">
            
                    
                    Bash Completion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Vim/">
            
                <a href="../Vim/">
            
                    
                    Vim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../VisualStudioCode/">
            
                <a href="../VisualStudioCode/">
            
                    
                    VSC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../Python/">
            
                <a href="../Python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../Python/pip.html">
            
                <a href="../Python/pip.html">
            
                    
                    Pip
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../Python/virtualenv.html">
            
                <a href="../Python/virtualenv.html">
            
                    
                    Virtualenv
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../Python/numpy.html">
            
                <a href="../Python/numpy.html">
            
                    
                    Numpy-Scipy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../Python/ipython.html">
            
                <a href="../Python/ipython.html">
            
                    
                    IPython
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../MyySQL/">
            
                <a href="../MyySQL/">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../Cpp/">
            
                <a href="../Cpp/">
            
                    
                    CPlusPlus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../Java/">
            
                <a href="../Java/">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../Scala/">
            
                <a href="../Scala/">
            
                    
                    Scala
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../Ruby/">
            
                <a href="../Ruby/">
            
                    
                    Ruby
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../Ruby/RubyGems.html">
            
                <a href="../Ruby/RubyGems.html">
            
                    
                    RubyGems
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../Node.js&Typescript/">
            
                <a href="../Node.js&Typescript/">
            
                    
                    Typescript & Node.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../Go/">
            
                <a href="../Go/">
            
                    
                    Go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../Docker/">
            
                <a href="../Docker/">
            
                    
                    Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../Docker/UsefulCommands.html">
            
                <a href="../Docker/UsefulCommands.html">
            
                    
                    Useful Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../Docker/TipsAndTricks.html">
            
                <a href="../Docker/TipsAndTricks.html">
            
                    
                    Tips and Tricks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../Kubernetes/">
            
                <a href="../Kubernetes/">
            
                    
                    Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../Terraform/">
            
                <a href="../Terraform/">
            
                    
                    Terraform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../LaTeX/">
            
                <a href="../LaTeX/">
            
                    
                    LaTeX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../Apps/">
            
                <a href="../Apps/">
            
                    
                    Other Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.23" data-path="./">
            
                <a href="./">
            
                    
                    Security
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


        </nav>
    

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Security</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="security-and-safety">Security and Safety</h1>
<p>A development machine should be secured against threads as well as any other machine (or even <em>especially</em> a development machine). Therefore we will setup</p>
<ul>
<li>secure system settings</li>
<li>a virus scanner</li>
<li>a firewall</li>
<li>disk encryption</li>
</ul>
<h2 id="secure-system-settings">Secure System Settings</h2>
<p>Check out <a href="https://www.github.com/alichtman/stronghold" target="_blank">Stronghold</a> for the easiest way to configure macOS security settings from the terminal.</p>
<h2 id="virus-scanner">Virus Scanner</h2>
<p>Head over to <a href="https://www.avira.com/" target="_blank">Avira</a>, download and install their latest free package.</p>
<h2 id="firewall">Firewall</h2>
<p>This one is a bit controversial. If you do not install software which allows network access of any kind, skip it. If you run potentially vulnerable software you don&apos;t want to be accessed from other machines, consider turning the built-in firewall on. This particularly applies if you develop network software.</p>
<p>To turn the built-in firewall on:</p>
<ol>
<li>Choose Apple menu (&#xF8FF;) &gt; System Preferences, then click Security &amp; Privacy.</li>
<li>Click the Firewall tab.</li>
<li>Click the Lock button, then enter an administrator name and password.</li>
<li>Click Turn On Firewall.</li>
<li>Click Firewall Options.</li>
<li>Uncheck &apos;Automatically allow signed software to receive incoming connections&apos;.</li>
</ol>
<p>The last step disables automatic access for software from the App Store. From now on you can either add (dis)allowed programs to the list within the Firewall Options or just click on Allow\/Deny, if you get a popup asking you if a specific software may be accessed.</p>
<h2 id="disk-encryption">Disk Encryption</h2>
<p>Another controversial point. If you have a desktop machine in a secured building, you probably do not need disk encryption. If you travel a lot and take your notebook with you (including all your source codes), you might consider travelling with disk encryption enabled.</p>
<p>The following steps were taken from the <a href="https://support.apple.com/en-us/HT204837" target="_blank">official apple support page</a> on this:</p>
<ol>
<li>Choose Apple menu (&#xF8FF;) &gt; System Preferences, then click Security &amp; Privacy.</li>
<li>Click the FileVault tab.</li>
<li>Click the Lock button, then enter an administrator name and password.</li>
<li>Click Turn On FileVault.</li>
<li>Follow the instructions. In my opinion you should create a local and offline possibility to disable encryption, when you are asked how to regain access in case of anything.</li>
</ol>
<h2 id="config--keybase">Config &amp; Keybase</h2>
<p>Store your secret configuration files using <a href="https://keybase.io/" target="_blank">keybase.io</a> in a shared but end to end encrypted folder, and git repositories.</p>
<ol>
<li>Install the <a href="https://keybase.io/docs/the_app/install_macos" target="_blank">Keybase app</a>  <code>brew cask install keybase</code></li>
<li>Install the GPG suite <code>brew cask install gpg-suite</code></li>
<li>If you don&apos;t have a GPG key already create a new GPG key <code>keybase pgp gen</code> otherwise just import your existing key with <code>keybase pgp select</code>.</li>
</ol>
<h3 id="sign-git-commits">Sign git commits</h3>
<ol>
<li>Grab the public key using <code>keybase pgp export</code>, then feed it into GitHub described <a href="https://help.github.com/en/articles/adding-a-new-gpg-key-to-your-github-account" target="_blank">here</a>.</li>
<li><code>git config --global user.signingkey &lt;my_key_ID&gt;</code> &#x2013; Tell my local git to use my GPG key for signing (<a href="https://help.github.com/en/articles/telling-git-about-your-signing-key" target="_blank">how to get my key id</a>)</li>
<li><code>git config --global commit.gpgsign true</code> &#x2013; Enable GPG commit signing</li>
<li>What you end up with are commits that have the &#x201C;Verified&#x201D; label in GitHub, which is an affirmation that I was actually the one who made those commits.</li>
</ol>
<h3 id="share-secrets-config-files-with-devops-pipeline">Share secrets config files with devops pipeline</h3>
<ol>
<li>create a seperate account &amp; generate a <a href="https://keybase.io/docs/command_line/basics" target="_blank">paperkey</a> for this account with <code>keybase paperkey</code>. with this paper key you can now login from your cicd pipeline using your username (not email!) and the paperkey.<ol>
<li><code>keybase oneshot  --paperkey xxx -u username</code> for more infos do <code>man keybase oneshot</code> or look at an <a href="https://gitlab.com/open-source-devex/containers/keybase/blob/master/container/build-docker-entrypoint.sh" target="_blank">example</a></li>
<li>Publish the relevant crednetials files to <code>/keybase/private/dennisseidel,cicdbotname</code> or to your <code>teams</code> folder.</li>
</ol>
</li>
</ol>
<h2 id="lastpass">LastPass</h2>
<h2 id="securely-store-your-keys-and-secrets">Securely store your keys and secrets</h2>
<p>You don&apos;t want to store your secrets in plain text in a file like <code>.rshrc</code>  therefore you can use lpass cli [<a href="https://github.com/lastpass/lastpass-cli" target="_blank">github</a> / <a href="https://helpdesk.lastpass.com/lastpass-command-line-application/" target="_blank">documentation</a>] and store your secrets in your osx keychain and access them only by reference.</p>
<h3 id="installation">Installation</h3>
<pre><code class="lang-bash">brew install lastpass-cli --with-pinentry
</code></pre>
<h4 id="set-variables-in-lastpass">Set variables in lastpass</h4>
<p>Just create a secret note within lastpass:</p>
<p><img src="add-secret-to-lastpass.png" width="80%"></p>
<h4 id="login-to-lpass-in-the-command-line">Login to lpass in the command line</h4>
<pre><code class="lang-bash"><span class="hljs-comment"># login to lastpass# check first if I am allready loggedin and finded the &quot;access-token&quot; folder if [[ $(lpass ls) != *&quot;access-token&quot;* ]]; thenlpass login your@email.comfi</span>
</code></pre>
<h4 id="set-environment-variable-eg-keyid-username-and-secretpassword">Set environment variable (e.g. key_id (username) and secret(password)</h4>
<pre><code class="lang-bash"><span class="hljs-built_in">export</span> AWS_ACCESS_KEY_ID=$(lpass show aws-serverless-devops --username)
<span class="hljs-built_in">export</span> AWS_SECRET_ACCESS_KEY=$(lpass show aws-serverless-devops --password)
</code></pre>
<h3 id="accessing-files-in-lpass">Accessing files in lpass</h3>
<pre><code class="lang-text">lpass show xxx-dev-gcp --attach att-7942806310206912061-56085
</code></pre>
<h3 id="setup-an-ecrypted-folder-and-sync-with-google-drive">Setup an ecrypted folder and sync with google drive</h3>
<pre><code class="lang-text">/Users/den/Desktop/secret/xxx/key.json
lock-secret-files
unlock-secret-files
</code></pre>
<script src="../_gitbook_plugin_analytics.js"></script>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../Apps/" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Other Apps">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Security","level":"1.23","depth":1,"previous":{"title":"Other Apps","level":"1.22","depth":1,"path":"Apps/README.md","ref":"Apps/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["analytics"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"analytics":{"google":"UA-40495390-3"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":false,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":36,"bottom":36},"toc":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"macOS Setup Guide","language":"en","links":{"home":"http://sourabhbajaj.com/mac-setup/","about":"http://sourabhbajaj.com","issues":null,"contribute":null},"gitbook":"3.2.3","direction":"ltr"},"file":{"path":"Security/README.md","mtime":"2019-08-16T17:19:48.654Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-08-16T17:21:13.547Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

